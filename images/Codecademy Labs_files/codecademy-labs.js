(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D=function(e,t){return function(){return e.apply(t,arguments)}},P=Array.prototype.slice;e=jQuery,A=0,O=1,M=2,w=13,C=9,g=46,m=8,S=37,N=39,k=38,y=40,E=36,b=35,T=33,x=34,o="jqconsole-",n=""+o+"cursor",r=""+o+"header",u=""+o+"prompt",s=""+o+"old-prompt",i=""+o+"input",t=""+o+"blurred",d="keypress",p="<span/>",c="<div/>",h=":empty",L="\n",l=">>> ",f="... ",a=2,_=function(e,t){return'<span class="'+e+'">'+(t||"")+"</span>"},v=function(){function v(t,n,i,s){this.container=t,this._HideComposition=D(this._HideComposition,this),this._ShowComposition=D(this._ShowComposition,this),this._UpdateComposition=D(this._UpdateComposition,this),this._EndComposition=D(this._EndComposition,this),this._StartComposition=D(this._StartComposition,this),this._CheckComposition=D(this._CheckComposition,this),this._ProcessMatch=D(this._ProcessMatch,this),this._HandleKey=D(this._HandleKey,this),this._HandleChar=D(this._HandleChar,this),this.isMobile=!!navigator.userAgent.match(/iPhone|iPad|iPod|Android/i),this.isIos=!!navigator.userAgent.match(/iPhone|iPad|iPod/i),this.isAndroid=!!navigator.userAgent.match(/Android/i),this.$window=e(window),this.header=n||"",this.prompt_label_main=i||l,this.prompt_label_continue=" \n"+(s||f),this.indent_width=a,this.state=O,this.input_queue=[],this.input_callback=null,this.multiline_callback=null,this.history=[],this.history_index=0,this.history_new="",this.history_active=!1,this.shortcuts={},this.$console=e('<pre class="jqconsole"/>').appendTo(this.container),this.$console.css({position:"absolute",top:0,bottom:0,right:0,left:0,margin:0,overflow:"auto"}),this.$console_focused=!0,this.$input_container=e(c).appendTo(this.container),this.$input_container.css({position:"relative",width:1,height:0,overflow:"hidden"}),this.$input_source=e("<textarea/>"),this.$input_source.attr("wrap","off").css({position:"absolute",width:2}),this.$input_source.appendTo(this.$input_container),this.$composition=e(c),this.$composition.addClass(""+o+"composition"),this.$composition.css({display:"inline",position:"relative"}),this.matchings={openings:{},closings:{},clss:[]},this._InitPrompt(),this._SetupEvents(),this.Write(this.header,r),e(this.container).data("jqconsole",this)}return v.prototype.ResetHistory=function(){return this.history=[],this.history_index=0,this.history_current=""},v.prototype.ResetShortcuts=function(){return this.shortcuts={}},v.prototype.ResetMatchings=function(){return this.matchings={openings:{},closings:{},clss:[]}},v.prototype.Reset=function(){this.state!==O&&this.ClearPromptText(!0),this.state=O,this.input_queue=[],this.input_callback=null,this.multiline_callback=null,this.ResetHistory(),this.ResetShortcuts(),this.ResetMatchings(),this.$prompt.detach(),this.$input_container.detach(),this.$console.html(""),this.$prompt.appendTo(this.$console),this.$input_container.appendTo(this.container),this.Write(this.header,r)},v.prototype._CheckKeyCode=function(e){isNaN(e)?e=e.charCodeAt(0):e=parseInt(e,10);if(0<e&&e<256&&!isNaN(e))return e;throw Error("Key code must be a number between 0 and 256 exclusive.")},v.prototype._LetterCaseHelper=function(e,t){t(e),65<=e&&e<=90&&t(e+32);if(97<=e&&e<=122)return t(e-32)},v.prototype.RegisterShortcut=function(e,t){var n,r=this;e=this._CheckKeyCode(e);if(!t instanceof Function)throw Error("Callback must be a function, not "+t+".");n=function(e){return e in r.shortcuts||(r.shortcuts[e]=[]),r.shortcuts[e].push(t)},this._LetterCaseHelper(e,n)},v.prototype.UnRegisterShortcut=function(e,t){var n,r=this;e=this._CheckKeyCode(e),n=function(e){if(e in r.shortcuts)return t?r.shortcuts[e].splice(r.shortcuts[e].indexOf(t),1):delete r.shortcuts[e]},this._LetterCaseHelper(e,n)},v.prototype.GetColumn=function(){var e;return this.$prompt_cursor.text(""),e=this.$console.text().split(L),this.$prompt_cursor.html("&nbsp;"),e[e.length-1].length},v.prototype.GetLine=function(){return this.$console.text().split(L).length-1},v.prototype.ClearPromptText=function(e){if(this.state===O)throw Error("ClearPromptText() is not allowed in output state.");this.$prompt_before.html(""),this.$prompt_after.html(""),this.$prompt_label.text(e?"":this._SelectPromptLabel(!1)),this.$prompt_left.text(""),this.$prompt_right.text("")},v.prototype.GetPromptText=function(t){var n,r,i,s,o;if(this.state===O)throw Error("GetPromptText() is not allowed in output state.");return t?(this.$prompt_cursor.text(""),o=this.$prompt.text(),this.$prompt_cursor.html("&nbsp;"),o):(s=function(t){var n;return n=[],t.children().each(function(){return n.push(e(this).children().last().text())}),n.join(L)},r=s(this.$prompt_before),r&&(r+=L),i=this.$prompt_left.text()+this.$prompt_right.text(),n=s(this.$prompt_after),n&&(n=L+n),r+i+n)},v.prototype.SetPromptText=function(e){if(this.state===O)throw Error("SetPromptText() is not allowed in output state.");this.ClearPromptText(!1),this._AppendPromptText(e),this._ScrollToEnd()},v.prototype.Write=function(t,n,r){var i;r==null&&(r=!0),i=e(p)[r?"text":"html"](t),n!=null&&i.addClass(n),i.insertBefore(this.$prompt),this._ScrollToEnd(),this.$prompt_cursor.detach().insertAfter(this.$prompt_left)},v.prototype.Input=function(e){var t,n,r,s,o=this;if(this.state===M)r=this.input_callback,s=this.multiline_callback,n=this.history_active,t=this.async_multiline,this.AbortPrompt(),this.input_queue.unshift(function(){return o.Prompt(n,r,s,t)});else if(this.state!==O){this.input_queue.push(function(){return o.Input(e)});return}this.history_active=!1,this.input_callback=e,this.multiline_callback=null,this.state=A,this.$prompt.attr("class",i),this.$prompt_label.text(this._SelectPromptLabel(!1)),this.Focus(),this._ScrollToEnd()},v.prototype.Prompt=function(e,t,n,r){var i=this;if(this.state!==O){this.input_queue.push(function(){return i.Prompt(e,t,n,r)});return}this.history_active=e,this.input_callback=t,this.multiline_callback=n,this.async_multiline=r,this.state=M,this.$prompt.attr("class",u),this.$prompt_label.text(this._SelectPromptLabel(!1)),this.Focus(),this._ScrollToEnd()},v.prototype.AbortPrompt=function(){if(this.state!==M)throw Error("Cannot abort prompt when not in prompt state.");this.Write(this.GetPromptText(!0)+L,s),this.ClearPromptText(!0),this.state=O,this.input_callback=this.multiline_callback=null,this._CheckInputQueue()},v.prototype.Focus=function(){this.IsDisabled()||this.$input_source.focus()},v.prototype.SetIndentWidth=function(e){return this.indent_width=e},v.prototype.GetIndentWidth=function(){return this.indent_width},v.prototype.RegisterMatching=function(e,t,n){var r;return r={opening_char:e,closing_char:t,cls:n},this.matchings.clss.push(n),this.matchings.openings[e]=r,this.matchings.closings[t]=r},v.prototype.UnRegisterMatching=function(e,t){var n;return n=this.matchings.openings[e].cls,delete this.matchings.openings[e],delete this.matchings.closings[t],this.matchings.clss.splice(this.matchings.clss.indexOf(n),1)},v.prototype.Dump=function(){var t,n;return t=this.$console.find("."+r).nextUntil("."+u),function(){var r,i,o;o=[];for(r=0,i=t.length;r<i;r++)n=t[r],e(n).is("."+s)?o.push(e(n).text().replace(/^\s+/,">>> ")):o.push(e(n).text());return o}().join(" ")},v.prototype.GetState=function(){return this.state===A?"input":this.state===O?"output":"prompt"},v.prototype.Disable=function(){return this.$input_source.attr("disabled",!0),this.$input_source.blur()},v.prototype.Enable=function(){return this.$input_source.attr("disabled",!1)},v.prototype.IsDisabled=function(){return Boolean(this.$input_source.attr("disabled"))},v.prototype.MoveToStart=function(e){this._MoveTo(e,!0)},v.prototype.MoveToEnd=function(e){this._MoveTo(e,!1)},v.prototype._CheckInputQueue=function(){if(this.input_queue.length)return this.input_queue.shift()()},v.prototype._InitPrompt=function(){this.$prompt=e(_(i)).appendTo(this.$console),this.$prompt_before=e(p).appendTo(this.$prompt),this.$prompt_current=e(p).appendTo(this.$prompt),this.$prompt_after=e(p).appendTo(this.$prompt),this.$prompt_label=e(p).appendTo(this.$prompt_current),this.$prompt_left=e(p).appendTo(this.$prompt_current),this.$prompt_right=e(p).appendTo(this.$prompt_current),this.$prompt_right.css({position:"relative"}),this.$prompt_cursor=e(_(n,"&nbsp;")),this.$prompt_cursor.insertBefore(this.$prompt_right),this.$prompt_cursor.css({color:"transparent",display:"inline",zIndex:0});if(!this.isMobile)return this.$prompt_cursor.css("position","absolute")},v.prototype._SetupEvents=function(){var n,r,i,s=this;this.isMobile?this.$console.click(function(e){return e.preventDefault(),s.Focus()}):this.$console.mouseup(function(e){var t;return t=function(){if(!(window.getSelection()+""))return e.preventDefault(),s.Focus()},setTimeout(t,0)}),this.$input_source.focus(function(){var e,n;return s.$console_focused=!0,s.$console.removeClass(t),n=function(){if(s.$console_focused)return s.$console.removeClass(t)},setTimeout(n,100),e=function(){if(s.isIos&&s.$console_focused)return s.$input_source.hide()},setTimeout(e,500)}),this.$input_source.blur(function(){var e;return s.$console_focused=!1,s.isIos&&s.$input_source.show(),e=function(){if(!s.$console_focused)return s.$console.addClass(t)},setTimeout(e,100)}),i=e.browser.opera?"input":"paste",this.$input_source.bind(i,function(){var e;return e=function(){if(s.in_composition)return;return s._AppendPromptText(s.$input_source.val()),s.$input_source.val(""),s.Focus()},setTimeout(e,0)}),this.$input_source.keypress(this._HandleChar),r=e.browser.mozilla||e.browser.opera?d:"keydown",this.$input_source[r](this._HandleKey),this.$input_source.keydown(this._CheckComposition),e.browser.mozilla!=null&&(this.$input_source.bind("compositionstart",this._StartComposition),this.$input_source.bind("compositionend",this._EndCommposition),this.$input_source.bind("text",this._UpdateComposition)),e.browser.opera!=null&&(n=function(){if(s.in_composition)return;if(s.$input_source.val().length)return s._StartComposition()},setInterval(n,200));if(this.isMobile)return this.$console.bind("touchend",function(){return s.$console[0].ontouchmove=null}),this.$console.bind("touchstart",function(e){var t;return t={distanceX:null,distanceY:null},s.$console[0].ontouchmove=function(e){var n,r,i,o,u;return e.touches.length!==2?!0:(o=Math.abs(e.touches[0].pageX-e.touches[1].pageX),u=Math.abs(e.touches[0].pageX-e.touches[1].pageY),t.distanceX&&t.distanceY?(r=Math.abs(o-t.distanceX),i=Math.abs(u-t.distanceY),n=r>i?o>t.distanceX:u>t.distanceY,n?s._HistoryPrevious():s._HistoryNext(),s.$console[0].ontouchmove=null):(t.distanceX=o,t.distanceY=u))}})},v.prototype._HandleChar=function(t){var n;if(this.state===O||t.metaKey||t.ctrlKey)return!0;n=t.which;if(n===8||n===9||n===13)return!1;if(e.browser.mozilla)if(t.keyCode||t.altKey)return!0;return e.browser.opera&&t.altKey?!0:t.metaKey||t.ctrlKey?!1:(this.$prompt_left.text(this.$prompt_left.text()+String.fromCharCode(n)),this._ScrollToEnd(),!1)},v.prototype._HandleKey=function(t){var n;if(this.state===O)return!0;n=t.keyCode||t.which,setTimeout(e.proxy(this._CheckMatchings,this),0);if(t.altKey||t.metaKey&&!t.ctrlKey)return!0;if(t.ctrlKey)return this._HandleCtrlShortcut(n);if(t.shiftKey){switch(n){case w:this._HandleEnter(!0);break;case C:this._Unindent();break;case k:this._MoveUp();break;case y:this._MoveDown();break;case T:this._ScrollUp();break;case x:this._ScrollDown();break;default:return!0}return!1}switch(n){case w:this._HandleEnter(!1);break;case C:this._Indent();break;case g:this._Delete(!1);break;case m:this._Backspace(!1);break;case S:this._MoveLeft(!1);break;case N:this._MoveRight(!1);break;case k:this._HistoryPrevious();break;case y:this._HistoryNext();break;case E:this.MoveToStart(!1);break;case b:this.MoveToEnd(!1);break;case T:this._ScrollUp();break;case x:this._ScrollDown();break;default:return!0}return!1},v.prototype._HandleCtrlShortcut=function(e){var t,n,r,i;switch(e){case g:this._Delete(!0);break;case m:this._Backspace(!0);break;case S:this._MoveLeft(!0);break;case N:this._MoveRight(!0);break;case k:this._MoveUp();break;case y:this._MoveDown();break;case b:this.MoveToEnd(!0);break;case E:this.MoveToStart(!0);break;default:if(e in this.shortcuts){i=this.shortcuts[e];for(n=0,r=i.length;n<r;n++)t=i[n],t.call(this);return!1}return!0}return!1},v.prototype._HandleEnter=function(e){var t,n,r=this;return e?this._InsertNewLine(!0):(n=this.GetPromptText(),t=function(e){var t,i,s,u,a;if(e!==!1){r.MoveToEnd(!0),r._InsertNewLine(!0),a=[];for(s=0,u=Math.abs(e);0>u?s>u:s<u;0>u?s--:s++)e>0?a.push(r._Indent()):a.push(r._Unindent());return a}return i=r.state===A?"input":"prompt",r.Write(r.GetPromptText(!0)+L,""+o+"old-"+i),r.ClearPromptText(!0),r.history_active&&((!r.history.length||r.history[r.history.length-1]!==n)&&r.history.push(n),r.history_index=r.history.length),r.state=O,t=r.input_callback,r.input_callback=null,t&&t(n),r._CheckInputQueue()},this.multiline_callback?this.async_multiline?this.multiline_callback(n,t):t(this.multiline_callback(n)):t(!1))},v.prototype._GetDirectionals=function(t){var n,r,i,s,o,u,a,f;return s=t?this.$prompt_left:this.$prompt_right,n=t?this.$prompt_right:this.$prompt_left,i=t?this.$prompt_before:this.$prompt_after,r=t?this.$prompt_after:this.$prompt_before,u=t?e.proxy(this.MoveToStart,this):e.proxy(this.MoveToEnd,this),o=t?e.proxy(this._MoveLeft,this):e.proxy(this._MoveRight,this),f=t?"last":"first",a=t?"prependTo":"appendTo",{$prompt_which:s,$prompt_opposite:n,$prompt_relative:i,$prompt_rel_opposite:r,MoveToLimit:u,MoveDirection:o,which_end:f,where_append:a}},v.prototype._VerticalMove=function(e){var t,n,r,i,s,o,u,a;a=this._GetDirectionals(e),r=a.$prompt_which,t=a.$prompt_opposite,n=a.$prompt_relative,s=a.MoveToLimit,i=a.MoveDirection;if(n.is(h))return;return o=this.$prompt_left.text().length,s(),i(),u=r.text(),t.text(e?u.slice(o):u.slice(0,o)),r.text(e?u.slice(0,o):u.slice(o))},v.prototype._MoveUp=function(){return this._VerticalMove(!0)},v.prototype._MoveDown=function(){return this._VerticalMove()},v.prototype._HorizontalMove=function(t,n){var r,i,s,o,u,a,f,l,c,d,v,m,g,y;y=this._GetDirectionals(n),u=y.$prompt_which,i=y.$prompt_opposite,o=y.$prompt_relative,s=y.$prompt_rel_opposite,m=y.which_end,v=y.where_append,l=n?/\w*\W*$/:/^\w*\W*/,c=u.text();if(c){if(t){g=c.match(l);if(!g)return;return g=g[0],d=i.text(),i.text(n?g+d:d+g),f=g.length,u.text(n?c.slice(0,-f):c.slice(f))}return d=i.text(),i.text(n?c.slice(-1)+d:d+c[0]),u.text(n?c.slice(0,-1):c.slice(1))}if(!o.is(h))return a=e(p)[v](s),a.append(e(p).text(this.$prompt_label.text())),a.append(e(p).text(i.text())),r=o.children()[m]().detach(),this.$prompt_label.text(r.children().first().text()),u.text(r.children().last().text()),i.text("")},v.prototype._MoveLeft=function(e){return this._HorizontalMove(e,!0)},v.prototype._MoveRight=function(e){return this._HorizontalMove(e)},v.prototype._MoveTo=function(e,t){var n,r,i,s,o,u,a;u=this._GetDirectionals(t),i=u.$prompt_which,n=u.$prompt_opposite,r=u.$prompt_relative,o=u.MoveToLimit,s=u.MoveDirection;if(e){a=[];while(!r.is(h)||i.text()!=="")o(!1),a.push(s(!1));return a}return n.text(this.$prompt_left.text()+this.$prompt_right.text()),i.text("")},v.prototype._Delete=function(e){var t,n,r;n=this.$prompt_right.text();if(n){if(e){r=n.match(/^\w*\W*/);if(!r)return;return r=r[0],this.$prompt_right.text(n.slice(r.length))}return this.$prompt_right.text(n.slice(1))}if(!this.$prompt_after.is(h))return t=this.$prompt_after.children().first().detach(),this.$prompt_right.text(t.children().last().text())},v.prototype._Backspace=function(t){var n,r,i;setTimeout(e.proxy(this._ScrollToEnd,this),0),r=this.$prompt_left.text();if(r){if(t){i=r.match(/\w*\W*$/);if(!i)return;return i=i[0],this.$prompt_left.text(r.slice(0,-i.length))}return this.$prompt_left.text(r.slice(0,-1))}if(!this.$prompt_before.is(h))return n=this.$prompt_before.children().last().detach(),this.$prompt_label.text(n.children().first().text()),this.$prompt_left.text(n.children().last().text())},v.prototype._Indent=function(){var e;return this.$prompt_left.prepend(function(){var t,n;n=[];for(e=1,t=this.indent_width;1>t?e>=t:e<=t;1>t?e--:e++)n.push(" ");return n}.call(this).join(""))},v.prototype._Unindent=function(){var e,t,n,r;e=this.$prompt_left.text()+this.$prompt_right.text(),r=[];for(t=1,n=this.indent_width;1>n?t>=n:t<=n;1>n?t--:t++){if(!/^ /.test(e))break;this.$prompt_left.text()?this.$prompt_left.text(this.$prompt_left.text().slice(1)):this.$prompt_right.text(this.$prompt_right.text().slice(1)),r.push(e=e.slice(1))}return r},v.prototype._InsertNewLine=function(t){var n,r,i;return t==null&&(t=!1),i=this._SelectPromptLabel(!this.$prompt_before.is(h)),n=e(p).appendTo(this.$prompt_before),n.append(e(p).text(i)),n.append(e(p).text(this.$prompt_left.text())),this.$prompt_label.text(this._SelectPromptLabel(!0)),t&&(r=this.$prompt_left.text().match(/^\s+/))?this.$prompt_left.text(r[0]):this.$prompt_left.text(""),this._ScrollToEnd()},v.prototype._AppendPromptText=function(e){var t,n,r,i,s,o;n=e.split(L),this.$prompt_left.text(this.$prompt_left.text()+n[0]),s=n.slice(1),o=[];for(r=0,i=s.length;r<i;r++)t=s[r],this._InsertNewLine(),o.push(this.$prompt_left.text(t));return o},v.prototype._ScrollUp=function(){var e;return e=this.$console[0].scrollTop-this.$console.height(),this.$console.stop().animate({scrollTop:e},"fast")},v.prototype._ScrollDown=function(){var e;return e=this.$console[0].scrollTop+this.$console.height(),this.$console.stop().animate({scrollTop:e},"fast")},v.prototype._ScrollToEnd=function(){var e,t,n,r,i,s,o;t=this.$prompt_cursor.height(),o=this.$window.scrollTop(),s=this.$window.scrollLeft(),e=document.documentElement.clientHeight,r=this.$prompt_cursor.offset(),i=this.$prompt_cursor.position(),this.$console.scrollTop(this.$console[0].scrollHeight),this.$input_container.css({left:i.left,top:i.top}),n=r.top-2*t;if(this.isMobile&&typeof orientation!="undefined"&&orientation!==null){if(o<r.top||o>r.top)return this.$window.scrollTop(n)}else if(o+e<r.top||o>n)return this.$window.scrollTop(n)},v.prototype._SelectPromptLabel=function(e){return this.state===M?e?this.prompt_label_continue:this.prompt_label_main:e?"\n ":" "},v.prototype._outerHTML=function(t){return document.body.outerHTML?t.get(0).outerHTML:e(c).append(t.eq(0).clone()).html()},v.prototype._Wrap=function(e,t,n){var r,i;return i=e.html(),r=i.slice(0,t)+_(n,i[t])+i.slice(t+1),e.html(r)},v.prototype._WalkCharacters=function(e,t,n,r,i){var s,o,u;o=i?e.length:0,e=e.split(""),u=function(){var t,n,r,s;return i?(r=e,e=2>r.length?(n=0,[]):P.call(r,0,n=r.length-1),t=r[n++]):(s=e,t=s[0],e=2>s.length?[]:P.call(s,1)),t&&(o+=i?-1:1),t};while(s=u()){s===t?r++:s===n&&r--;if(r===0)return{index:o,current_count:r}}return{index:-1,current_count:r}},v.prototype._ProcessMatch=function(t,n,r){var i,s,o,u,a,f,l,c,h,p,d,v,m=this;return p=n?[t.closing_char,t.opening_char]:[t.opening_char,t.closing_char],u=p[0],c=p[1],d=this._GetDirectionals(n),o=d.$prompt_which,s=d.$prompt_relative,a=1,f=!1,h=o.html(),n||(h=h.slice(1)),r&&n&&(h=h.slice(0,-1)),v=this._WalkCharacters(h,u,c,a,n),l=v.index,a=v.current_count,l>-1?(this._Wrap(o,l,t.cls),f=!0):(i=s.children(),i=n?Array.prototype.reverse.call(i):i,i.each(function(r,i){var s,o;s=e(i).children().last(),h=s.html(),o=m._WalkCharacters(h,u,c,a,n),l=o.index,a=o.current_count;if(l>-1)return n||l--,m._Wrap(s,l,t.cls),f=!0,!1})),f},v.prototype._CheckMatchings=function(t){var n,r,i,s,o,u,a;i=t?this.$prompt_left.text().slice(this.$prompt_left.text().length-1):this.$prompt_right.text()[0],a=this.matchings.clss;for(o=0,u=a.length;o<u;o++)n=a[o],e("."+n,this.$console).contents().unwrap();(r=this.matchings.closings[i])?s=this._ProcessMatch(r,!0,t):(r=this.matchings.openings[i])?s=this._ProcessMatch(r,!1,t):t||this._CheckMatchings(!0);if(t){if(s)return this._Wrap(this.$prompt_left,this.$prompt_left.html().length-1,r.cls)}else if(s)return this._Wrap(this.$prompt_right,0,r.cls)},v.prototype._HistoryPrevious=function(){if(!this.history_active)return;if(this.history_index>0)return this.history_index===this.history.length&&(this.history_new=this.GetPromptText()),this.SetPromptText(this.history[--this.history_index]);return},v.prototype._HistoryNext=function(){if(!this.history_active)return;if(this.history_index<this.history.length)return this.history_index===this.history.length-1?(this.history_index++,this.SetPromptText(this.history_new)):this.SetPromptText(this.history[++this.history_index]);return},v.prototype._CheckComposition=function(t){var n;n=t.keyCode||t.which,e.browser.opera!=null&&this.in_composition&&this._UpdateComposition();if(n===229)return this.in_composition?this._UpdateComposition():this._StartComposition()},v.prototype._StartComposition=function(){return this.$input_source.bind(d,this._EndComposition),this.in_composition=!0,this._ShowComposition(),setTimeout(this._UpdateComposition,0)},v.prototype._EndComposition=function(){return this.$input_source.unbind(d,this._EndComposition),this.in_composition=!1,this._HideComposition(),this.$input_source.val("")},v.prototype._UpdateComposition=function(e){var t,n=this;return t=function(){if(!n.in_composition)return;return n.$composition.text(n.$input_source.val())},setTimeout(t,0)},v.prototype._ShowComposition=function(){return this.$composition.css("height",this.$prompt_cursor.height()),this.$composition.empty(),this.$composition.appendTo(this.$prompt_left)},v.prototype._HideComposition=function(){return this.$composition.detach()},v}(),e.fn.jqconsole=function(e,t,n){return new v(this,e,t,n)}}).call(this),function(){var e,t;e=jQuery,t={},t.$this=e(t),this.REPLIT=t}.call(this),function(){var e,t,n;e=Boolean(navigator.userAgent.match(/iPhone|iPad|iPod|Android/i)),e||(t=navigator.userAgent.match(/Chrome\/(\d+)/i),n=navigator.userAgent.match(/Version\/(\d+)/i),($.browser.msie&&$.browser.version<9||$.browser.mozilla&&$.browser.version<3.6||$.browser.opera&&$.browser.version<11.51||$.browser.safari&&t&&t[1]<13||$.browser.safari&&n&&n[1]<5)&&$(function(){return $("#content-fallback").show(),$("#fallback-ignore").click(function(){return $("#content-fallback").hide()})})),$.extend(REPLIT,{ISMOBILE:e,ISIOS:Boolean(navigator.userAgent.match(/iPhone|iPad|iPod/i))})}.call(this),function(){var e,t,n,r,i,s,o;e=jQuery,t=":",s="onpopstate"in window,r="onhashchange"in window,o=!1,n=["",""],i=window.location.hash.slice(1),e.extend(REPLIT,{HASH_SEPARATOR:t,setHash:function(t,r){var i;return i=function(){var i,s;if(n[t]!=null===r)return;return r==null?(r=t,r!==""&&(window.location.hash=r)):(s=n[t],n[t]=r,i=n.join(":"),i===":"&&(i=""),n[t]=s,window.location.hash=i),e(window).trigger("hashchange")},o?i():e(window).bind(function(){return setTimeout(function(){return REPLIT.setHash(t,r)},0)})}}),e(window).bind("load",function(){var t,u,a;return o=!0,REPLIT.setHash(i),u=function(){var e,t,r;return e=window.location.hash.slice(1),t=e.split(":")[0],r=e.split(":")[1],n[0]!==t&&(n[0]=t,REPLIT.$this.trigger("hashchange:0",[t])),n[1]!==r&&(n[1]=r,REPLIT.$this.trigger("hashchange:1",[r])),!0},s?(e(window).bind("popstate",u),e(window).trigger("popstate")):r?(e(window).bind("hashchange",u),e(window).trigger("hashchange")):(a=null,t=function(){var e;e=window.location.hash.slice(1);if(e!==a)return a=e,u()},setInterval(t,250))})}.call(this),function(){var e,t,n,r,i,s,o,u,a,f,l,c,h;r=100,o=0,u=60,c=8,i=.5,n=1,s=0,h=.05,t=700,f=1,a=1500,l=2e3,e=jQuery,e.fn.disableSelection=function(){return this.each(function(){var t;return t=e(this),t.attr("unselectable","on"),t.css({"-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}),t.each(function(){return this.onselectstart=function(){return!1}})})},e.fn.enableSelection=function(){return this.each(function(){var t;return t=e(this),t.attr("unselectable",""),t.css({"-moz-user-select":"","-webkit-user-select":"","user-select":""}),t.each(function(){return this.onselectstart=null})})},e.extend(REPLIT,{RESIZER_WIDTH:c,CONSOLE_HIDDEN:n,EDITOR_HIDDEN:s,DEFAULT_CONTENT_PADDING:r,split_ratio:REPLIT.ISMOBILE?s:i,min_content_width:500,max_content_width:3e3,content_padding:r,last_progress_ratio:0,InitDOM:function(){var t,n=this;return this.$doc_elem=e("html"),this.$container=e("#main"),this.$editorContainer=e("#editor"),this.$consoleContainer=e("#console"),this.$resizer={l:e("#resize-left"),c:e("#resize-center"),r:e("#resize-right")},this.$progress=e("#progress"),this.$progressFill=e("#progress-fill"),this.$unhider={editor:e("#unhide-right"),console:e("#unhide-left")},this.$run=e("#editor-run"),this.OnResize(),t=null,e(window).bind("resize",function(){var e;return n.ISMOBILE?(t=clearTimeout(t),e=function(){var e;return e=document.documentElement.clientWidth,REPLIT.min_content_width=e-2*c,n.OnResize()},t=setTimeout(function(){return n.OnResize()},300)):n.OnResize()})},OnProgress:function(t){var n,r,i;i=t/100;if(i<this.last_progress_ratio)return;return n=(i-this.last_progress_ratio)*l,this.last_progress_ratio=i,n=Math.max(n,f),n=Math.min(n,a),r=this.$progressFill,r.animate({width:t+"%"},{duration:Math.abs(n),easing:"linear",step:function(t,n){var s,o,u,a,f,l,c,h;return i=t/100,c=Math.round(i<.75?250:250+ -51*((i-.75)/.25)),l=Math.round(i<.75?242:250+ -114*((i-.75)/.25)),f=Math.round(i<.25?110+71*(i/.25):181+69*((i-.25)/.75)),a=Math.round(34+208*i),o=67,s=12,h="rgb("+c+", "+f+", "+o+")",u="rgb("+l+", "+a+", "+s+")",e.browser.webkit?r.css({"background-image":"url('/images/progress.png'), -webkit-gradient(linear, left top, left bottom, from("+h+"), to("+u+"))"}):e.browser.mozilla?r.css({"background-image":"url('/images/progress.png'), -moz-linear-gradient(top, "+h+", "+u+")"}):e.browser.opera&&r.css({"background-image":"url('/images/progress.png'), -o-linear-gradient(top, "+h+", "+u+")"}),r.css({"background-image":"url('/images/progress.png'), linear-gradient(top, "+h+", "+u+")"})}})},OnResize:function(){var t,n,r,i,s;n=document.documentElement.clientWidth,t=document.documentElement.clientHeight,r=t-u-o,s=n-this.content_padding,i=s-2*c,i<this.min_content_width?i=this.min_content_width:i>this.max_content_width&&(i=this.max_content_width),s=i+2*c,this.$container.css({width:s}),this.ISMOBILE&&!e(".page:visible").is("#content-workspace"),e(".page:visible").css({width:i});if(e(".page:visible").is("#content-workspace"))return this.ResizeWorkspace(i,r)},ResizeWorkspace:function(e,t){var r,i,o,u,a,f,l;f=Math.floor(this.split_ratio*e),o=e-f,(l=this.split_ratio)!==n&&l!==s&&(f-=c/2,o-=c/2),this.$resizer.c.css({left:f}),this.$editorContainer.css({width:f,height:t}),this.$consoleContainer.css({width:o,height:t}),this.split_ratio===n?(this.$consoleContainer.hide(),this.$resizer.c.hide(),this.$unhider.console.show()):this.split_ratio===s&&(this.$editorContainer.hide(),this.$resizer.c.hide(),this.$unhider.editor.show()),r=this.$console.innerWidth()-this.$console.width(),i=this.$console.innerHeight()-this.$console.height(),u=this.$editor.innerWidth()-this.$editor.width(),a=this.$editor.innerHeight()-this.$editor.height(),this.$console.css("width",this.$consoleContainer.width()-r),this.$editor.css("width",this.$editorContainer.innerWidth()-u);if(!this.ISMOBILE)return this.editor.resize()}}),e(function(){var t,n;return REPLIT.ISIOS&&e("html, body").css("overflow","hidden"),REPLIT.$this.bind("language_loading",function(t,n){var r,i,s,o;return REPLIT.$progress.animate({opacity:1},"fast"),REPLIT.$progressFill.css({width:0}),REPLIT.last_progress_ratio=0,o=REPLIT.Languages[n],r=e("#language-about-link"),i=e("#language-engine-link"),s=e("#language-engine-link, #language-about-link"),s.animate({opacity:0},"fast",function(){return r.text("about "+n.toLowerCase()),r.attr({href:o.about_link}),i.text(n.toLowerCase()+" engine"),i.attr({href:o.engine_link}),s.animate({opacity:1},"fast")})}),REPLIT.$this.bind("language_loaded",function(){return REPLIT.OnProgress(100),REPLIT.$progress.animate({opacity:0},"fast")}),t=function(){var t;return t=function(){var t;return t=document.documentElement.clientWidth,REPLIT.min_content_width=t-2*c,REPLIT.OnResize(),e(window).scrollLeft(0)},setTimeout(t,300)},e(window).bind("orientationchange",t),REPLIT.ISMOBILE&&t(),REPLIT.InitDOM(),n=function(){return e.getScript("http://platform.twitter.com/widgets.js"),e.getScript("http://connect.facebook.net/en_US/all.js#appId=212500508799909&amp;xfbml=1",function(){return FB.init({appId:"212500508799909",xfbxml:!0,status:!0,cookie:!0}),FB.XFBML.parse(e("#footer").get(0))})},setTimeout(n,2e3)})}.call(this),function(){var e;e=jQuery,e.extend(REPLIT,{Init:function(){var t=this;return this.jsrepl=new JSREPL({input:e.proxy(this.InputCallback,this),output:e.proxy(this.OutputCallback,this),result:e.proxy(this.ResultCallback,this),error:e.proxy(this.ErrorCallback,this),progress:e.proxy(this.OnProgress,this),timeout:{time:15e3,callback:function(){var e;return e=confirm("The program is taking too long to finish. Do you want to stop it?"),e&&t.LoadLanguage(t.current_lang.system_name),e}}}),this.jqconsole=this.$consoleContainer.jqconsole("","   ",".. "),this.$console=this.$consoleContainer.find(".jqconsole"),this.$editor=this.$editorContainer.find("#editor-widget"),this.ISMOBILE||(this.editor=ace.edit("editor-widget"),this.editor.setTheme("ace/theme/textmate"),this.editor.renderer.setHScrollBarAlwaysVisible(!1),this.$run.click(function(){if(t.jqconsole.state===2)return t.jqconsole.AbortPrompt(),t.Evaluate(REPLIT.editor.getSession().getValue())})),this.current_lang=null,this.current_lang_name=null,this.inited=!0},LoadLanguage:function(t,n){var r,i,s,o,u,a,f,l,c,h,p,d,v,m,g=this;n==null&&(n=e.noop),this.$this.trigger("language_loading",[t]),this.current_lang=this.jsrepl.getLangConfig(t.toLowerCase()),this.current_lang.system_name=t,this.ISMOBILE||(r=require("ace/edit_session").EditSession,i=require("ace/undomanager").UndoManager,c=new r(""),c.setUndoManager(new i),s=this.Languages[t].ace_mode,s!=null?o=e.getScript(s.script,function(){var e;return e=require(s.module).Mode,c.setMode(new e),g.editor.setSession(c)}):(o=jQuery.Deferred().resolve(),h=require("ace/mode/text").Mode,c.setMode(new h),this.editor.setSession(c))),this.jqconsole.Reset(),v=this.current_lang.matchings;for(a=p=0,d=v.length;p<d;a=++p)m=v[a],l=m[0],u=m[1],this.jqconsole.RegisterMatching(l,u,"matching-"+a);return this.jqconsole.RegisterShortcut("Z",function(){return g.jqconsole.AbortPrompt(),g.StartPrompt()}),this.jqconsole.RegisterShortcut("L",function(){return g.OpenPage("languages")}),this.jqconsole.RegisterShortcut("G",function(){return g.OpenPage("examples")}),this.jqconsole.RegisterShortcut("H",function(){return g.OpenPage("help")}),this.jqconsole.RegisterShortcut("S",function(){return e("#button-save").click()}),this.jqconsole.RegisterShortcut("A",function(){return g.jqconsole.MoveToStart()}),this.jqconsole.RegisterShortcut("E",function(){return g.jqconsole.MoveToEnd()}),f=function(){return e.when(o).then(function(){return g.StartPrompt(),g.$this.trigger("language_loaded",[t]),g.jqconsole.Write("You're running "+g.Languages[t].header+". "+"To get started, type in the console below or the text editor to the left. "+"Want to learn more about "+t+"? "+'<a target="_blank" href="http://www.codecademy.com/languages/'+t.toLowerCase()+'">Take Codecademy lessons</a>!'+"\n\n","",!1),n()})},t.toLowerCase()==="javascript"?this.jsrepl.loadLanguage(t.toLowerCase(),!1,f):this.jsrepl.loadLanguage(t.toLowerCase(),f)},ResultCallback:function(e){return e&&(e[-1]!=="\n"&&(e+="\n"),this.jqconsole.Write("=> "+e,"result")),this.StartPrompt(),this.$this.trigger("result",[e])},ErrorCallback:function(e){return typeof e=="object"&&(e=e.message),e[-1]!=="\n"&&(e+="\n"),this.jqconsole.Write(e+"","error"),this.StartPrompt(),this.$this.trigger("error",[e])},OutputCallback:function(e,t){if(e)return this.jqconsole.Write(e,t),this.$this.trigger("output",[e]),void 0},InputCallback:function(e){var t=this;return this.jqconsole.Input(function(n){try{return e(n),t.$this.trigger("input",[n])}catch(r){return t.ErrorCallback(r)}}),this.$this.trigger("input_request",[e]),void 0},Evaluate:function(e){return e?(this.jsrepl.eval(e),this.$this.trigger("eval",[e])):this.StartPrompt()},StartPrompt:function(){return this.jqconsole.Prompt(!0,e.proxy(this.Evaluate,this),this.jsrepl.checkLineEnd,!0)}}),e(function(){return REPLIT.Init()})}.call(this),function(){var e,t,n,r,i,s,o,u=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};e=jQuery,n=200,i=27,r=!0,s={language_group:function(e){var t,n,r;return t=e.category,r=e.languages,'<div id="copy">\n  <div class="language-group-header"><h1>'+t+'</h1></div>\n\n  <p>\n    Codecademy Labs is a place for you to program in Ruby, Python, and JavaScript online without downloading a code editor or IDE.  \n    Share your programs with friends and use your knowledge from Codecademy lessons!\n  </p>\n\n  <div class="language-group">\n    <ul>\n      '+
function(){var e,t,i;i=[];for(e=0,t=r.length;e<t;e++)n=r[e],i.push(this.language_entry(n));return i}.call(this).join("")+'\n    </ul>\n  </div>\n\n  <p>\n    Want to learn more about these languages?\n    <a href="http://www.codecademy.com/register/sign_up">Sign up for Codecademy</a>\n    to take lessons in JavaScript and to be notified when Python and Ruby lessons are online.\n  </p>\n\n  <p id="lesson_sign_up">\n    <a class="green" href="http://www.codecademy.com/register/sign_up">Create an account</a>\n  </p>\n\n\n <!--\n    <div id="email_signup">\n      <h3>Sign up to be notified when we add new languages</h3>\n      <form accept-charset="UTF-8" action="http://www.codecademy.com/invite_requests/add" class="notify" data-remote="true" id="email_form" method="post">\n        <table>\n          <tr>\n            <td>\n              <input id="invite_request_email" name="invite_request[email]" placeholder="Subscribe to email newsletter" size="30" type="text" />\n            </td>\n            <td>\n              <input class="green" id="invite_request_submit" name="commit" type="submit" value="Add Me" />\n            </td>\n          </tr>\n        </table>\n      </form>\n      <p id="email_successfully_saved">Your email was successfully saved. We\'ll let you know as soon as new langauges are available.</p>\n    </div>\n  -->\n\n</div>'},language_entry:function(e){var t,n,r,i,s;return t=e.name,n=e.shortcut,i=e.system_name,s=e.tagline,r=t.indexOf(n),'<li data-lang="'+i+'">\n  <a href="javascript: void(0)" class="green">\n    <img src="/images/'+t.toLowerCase()+'-small.png" alt="'+t.toLowerCase()+'" />\n    <span>'+t+"</span>\n    <small>"+s+"</small>\n  </a>\n</li>"},render:function(){var e,t,n,r,i,s,o,u,a,f,l,c,h;n=[],e=["Classic"],o={Classic:{category:"Play and Experiment with Code",languages:["Ruby","Python","JavaScript"]}};for(u in o){t=o[u],h=t.languages;for(r=a=0,l=h.length;a<l;r=++a)s=h[r],i=REPLIT.Languages[s],i.system_name=s,t.languages[r]=i}for(f=0,c=e.length;f<c;f++)t=e[f],n.push(this.language_group(o[t]));return n.join("")}},o={workspace:{id:"content-workspace",title:"$",min_width:500,width:1e3,max_width:3e3},languages:{id:"content-languages",min_width:500,width:1e3,max_width:1400},examples:{id:"content-examples",title:"$ Examples",min_width:1e3,width:1e3,max_width:1400},help:{id:"content-help",title:"Help",min_width:1e3,width:1e3,max_width:1400},DEFAULT:"languages"},t=["help","languages"],e.extend(REPLIT,{modal:!1,Modal:function(e){this.modal=e},LoadExamples:function(t,n,r){var i,s=this;return i=e("#examples-"+n),e(".example-group").remove(),e.get(t,function(t){var n,s,o,u,a,f,l;a=t.split(/\*{60,}/),o=0,f=Math.floor(a.length/2),l=[];while(o+1<a.length)u=a[o].replace(/^\s+|\s+$/g,""),n=a[o+1].replace(/^\s+|\s+$/g,""),s=e('<div class="example-group example-'+f+'">\n  <div class="example-group-header">'+u+"</div>\n  <code>"+n+"</code>\n</div>"),i.append(s),s.click(function(){return r(e("code",this).text())}),l.push(o+=2);return l})},page_stack:[],changing_page:!1,OpenPage:function(i,s){var a,f,l,c,h,p,d,v,m,g=this;s==null&&(s=e.noop);if(this.changing_page||this.modal&&u.call(t,i)<0)return;return this.changing_page=!0,m=o[i],f=this.page_stack[this.page_stack.length-1],!m||f===i?this.changing_page=!1:(p=this.current_lang_name?this.Languages[this.current_lang_name].name:"",a=e("#title"),m.title?(d=m.title.replace(/\$/g,p),a.text(d)):a.text(""),this.min_content_width=this.ISMOBILE?document.documentElement.clientWidth-2*this.RESIZER_WIDTH:m.min_width,this.max_content_width=m.max_width,r&&i==="workspace"&&(r=!1,m.width=document.documentElement.clientWidth-this.DEFAULT_CONTENT_PADDING),this.content_padding=document.documentElement.clientWidth-m.width,h=this.page_stack.indexOf(i),h>-1&&this.page_stack.splice(h,1),this.page_stack.push(i),c=i===o.DEFAULT?"":i,REPLIT.setHash(1,c),v=m.width,i!=="workspace"&&(v+=2*this.RESIZER_WIDTH),l=function(){return g.changing_page=!1,s()},f?(o[f].width=e(".page:visible").width(),o[f].$elem.fadeOut(n,function(){return g.$container.animate({width:v},n,function(){return m.$elem.css({width:m.width,display:"block",opacity:0}),g.OnResize(),m.$elem.animate({opacity:1},n,l)})})):(this.$container.css({width:v}),m.$elem.css({width:m.width,display:"block"}),this.OnResize(),l()))},CloseLastPage:function(){var e,t=this;if(this.changing_page)return;if(this.page_stack.length>1)return e=this.page_stack[this.page_stack.length-1],this.OpenPage(this.page_stack[this.page_stack.length-2],function(){return t.page_stack.splice(t.page_stack.indexOf(e),1)});return}}),e(function(){var t,n,r,u,a;e("#content-languages").append(s.render()),REPLIT.$this.bind("language_loading",function(e,t){var n;return n=REPLIT.Languages[t].examples,REPLIT.ISMOBILE||REPLIT.LoadExamples(n.editor,"editor",function(e){return REPLIT.editor.getSession().doc.setValue(e),REPLIT.OpenPage("workspace",function(){return REPLIT.editor.focus()})}),REPLIT.LoadExamples(n.console,"console",function(e){return REPLIT.jqconsole.SetPromptText(e),REPLIT.OpenPage("workspace",function(){return REPLIT.jqconsole.Focus()})})}),REPLIT.$this.bind("hashchange:1",function(t,n){var r;n||(n=o.DEFAULT);if(n in o){r=this.page_stack[this.page_stack.length-1];if(n!==r)return REPLIT.changing_page&&(e(".page").stop(!0,!0),this.$container.stop(!0,!0),REPLIT.changing_page=!1),REPLIT.OpenPage(n)}});for(r in o)u=o[r],u.$elem=e("#"+u.id),REPLIT.ISMOBILE&&r!=="workspace"&&(u.width=0);return t=e("body"),t.delegate(".page-close","click",function(){return REPLIT.CloseLastPage()}),t.delegate(".language-group li","click",function(){var t=this;return REPLIT.current_lang_name=e(this).data("lang"),REPLIT.OpenPage("workspace",function(){return REPLIT.LoadLanguage(REPLIT.current_lang_name)})}),n=function(){return e("#button-examples").click(function(){return REPLIT.current_lang!=null&&REPLIT.jqconsole.state===2&&(e("#examples-editor").toggle(REPLIT.split_ratio!==REPLIT.EDITOR_HIDDEN),e("#examples-console").toggle(REPLIT.split_ratio!==REPLIT.CONSOLE_HIDDEN),REPLIT.OpenPage("examples")),!1}),e("#languages_link").click(function(){return REPLIT.OpenPage("languages"),!1}),e("#logo").click(function(){return REPLIT.OpenPage("languages"),!1}),e("#link-about").click(function(){return REPLIT.OpenPage("about"),!1}),e("#button-help").click(function(){return REPLIT.OpenPage("help"),!1})},a=function(){var t;return t=e("#button-examples, #button-languages, #link-about, #button-help"),t.unbind("click")},n(),REPLIT.$this.bind("language_loading",a),REPLIT.$this.bind("language_loaded",n),e(window).keydown(function(t){if(t.which===i&&e(".page:visible")!=="#content-workspace")return REPLIT.CloseLastPage()}),e("#content-languages").keypress(function(t){var n;if(t.shiftKey||t.ctrlKey||t.metaKey)return;return n=String.fromCharCode(t.which).toLowerCase(),e("#content-languages li").each(function(){if(e("em",e(this)).text().toLowerCase()===n)return e(this).click(),!1})})})}.call(this),function(){var e,t,n,r,i;e=jQuery,t="pushState"in history,r=2e3,n={twitter:function(){var t,n,r,i;return n="Check out my REPL session - ",t="replit",i=window.location.href,r=e.param({text:n,url:i,related:t}),'<a href="https://twitter.com/share?'+r+'" target="_blank"></a>'},facebook:function(){return"<a href=\"javascript:var d=document,f='http://www.facebook.com/share',l=d.location,e=encodeURIComponent,p='.php?src=bm&v=4&i=1315186262&u='+e(l.href)+'&t='+e(d.title);1;try{if (!/^(.*.)?facebook.[^.]*$/.test(l.host))throw(0);share_internal_bookmarklet(p)}catch(z) {a=function() {if (!window.open(f+'r'+p,'sharer','toolbar=0,status=0,resizable=1,width=626,height=436'))l.href=f+p};if (/Firefox/.test(navigator.userAgent))setTimeout(a,0);else{a()}}void(0)\"></a>"},gplus:function(){var e;return e="Check out my REPL session - "+window.location.href,e=encodeURI(e),'<a href="https://m.google.com/app/plus/x/bggo8s9j8yqo/?v=compose&content='+e+'&login=1&pli=1&hideloc=1" target="_blank"></a>'}},e.extend(REPLIT,{session:{eval_history:[]},pushState:function(e){var n;return t?(n=window.location.hash,window.history.pushState(null,null,"/"+e),window.location.hash=n):REPLIT.setHash(0,e)}}),i=function(t,n){return localStorage.setItem("lang_name",n),e("#replay-button").hide(),this.session={},this.session.eval_history=[],REPLIT.pushState("")},e(function(){var t,s,o,u;return typeof REPLIT_DATA!="undefined"&&REPLIT_DATA!==null?(REPLIT.current_lang_name=REPLIT_DATA.language,REPLIT.OpenPage("workspace",function(){return REPLIT.LoadLanguage(REPLIT_DATA.language,function(){return REPLIT.ISMOBILE||REPLIT.editor.getSession().setValue(REPLIT_DATA.editor_text),REPLIT.session.id=REPLIT_DATA.session_id,REPLIT.session.rid=REPLIT_DATA.revision_id,REPLIT.session.saved_eval_history=REPLIT_DATA.eval_history,e("#replay-button").show(),delete window.REPLIT_DATA,REPLIT.$this.bind("language_loaded",i)})})):(REPLIT.$this.bind("language_loaded",i),s=localStorage.getItem("lang_name"),s!=null?(REPLIT.loading_saved_lang=!0,e(function(){return REPLIT.current_lang_name=s,REPLIT.OpenPage("workspace",function(){return REPLIT.LoadLanguage(s)})})):(e("#languages-back").bind("click.language_modal",function(e){return e.stopImmediatePropagation(),!1}),e("#content-languages .language-group li").bind("click.language_modal",function(e){return REPLIT.Modal(!1)}),REPLIT.$this.bind("language_loaded.language_modal",function(t){return e("#languages-back").unbind("click.language_modal")}),REPLIT.OpenPage("languages"),REPLIT.Modal(!0))),e("#replay-button").click(function(t){var n,r,i,s,o,u,a;return r=REPLIT.session.saved_eval_history,u=!1,a=[],i=-1,n=function(){var e;return u?a.push(n):(i++,r[i]!=null?(REPLIT.jqconsole.SetPromptText(r[i]),e=REPLIT.jqconsole.multiline_callback,REPLIT.jqconsole.multiline_callback=void 0,REPLIT.jqconsole._HandleEnter(),REPLIT.jqconsole.multiline_callback=e):(REPLIT.$this.unbind("result",n),REPLIT.$this.unbind("error",n),delete REPLIT.session.saved_eval_history))},s=function(){return u=!0},o=function(){var e;u=!1,e=a.shift();if(e!=null)return setTimeout(e,100)},REPLIT.$this.bind("result",n),REPLIT.$this.bind("error",n),REPLIT.$this.bind("input",o),REPLIT.$this.bind("input_request",s),n(),e(this).hide()}),o=function(i){var s;if(REPLIT.current_lang==null)return;return s={language:REPLIT.current_lang.system_name,editor_text:REPLIT.ISMOBILE?void 0:REPLIT.editor.getSession().getValue(),eval_history:JSON.stringify(REPLIT.session.eval_history),console_dump:REPLIT.jqconsole.Dump()},REPLIT.session.id!=null&&(s.id=REPLIT.session.id),e.post("/save",s,function(i){var s,o,a;return a=i.session_id,o=i.revision_id,s=e("#save-box"),o>0?REPLIT.pushState(a+"/"+o):REPLIT.pushState(a),REPLIT.session.id=a,REPLIT.session.rid=o,s.find("li.twitter a").replaceWith(n.twitter()),s.find("li.facebook a").replaceWith(n.facebook()),s.find("li.gplus a").replaceWith(n.gplus()),s.find("input").val(window.location.href),s.find(".downloads a.editor").attr("href","/download/editor/"+a+"/"+o+"/"),s.find(".downloads a.repl").attr("href","/download/repl/"+a+"/"+o+"/"),s.slideDown(),s.click(function(e){return e.stopPropagation()}),e("body").bind("click.closesave",function(){return s.slideUp(),e("body").unbind("click.closesave")}),u(),setTimeout(t,r)})},t=function(){return e("#button-save").click(o)},u=function(){return e("#button-save").unbind("click")},t(),e("#save-box input").click(function(){return e(this).select()}),REPLIT.$this.bind("eval",function(e,t){return REPLIT.session.eval_history.push(t)})})}.call(this),function(){this.REPLIT.Languages={QBasic:{name:"QBasic",tagline:"Structured programming for beginners.",shortcut:"Q",about_link:"http://en.wikipedia.org/wiki/QBasic",engine_link:"https://github.com/replit/jsrepl/tree/master/extern/qb.js",examples:{editor:"/langs/qbasic/examples-editor.html",console:"/langs/qbasic/examples-console.html"},header:"QBasic (qb.js)\nCopyright (c) 2010 Steve Hanov"},Forth:{name:"Forth",tagline:"An interactive stack-oriented language.",shortcut:"h",about_link:"http://en.wikipedia.org/wiki/Forth_(programming_language)",engine_link:"https://github.com/replit/jsrepl/blob/master/extern/jsforth/jsforth.js",examples:{editor:"/langs/forth/examples-editor.html",console:"/langs/forth/examples-console.html"},header:"JS-Forth 0.5200804171342\nhttp://www.forthfreak.net/jsforth.html\nThis program is published under the GPL."},LOLCODE:{name:"LOLCODE",tagline:"The basic language of lolcats.",shortcut:"O",about_link:"http://lolcode.com/specs/1.2",engine_link:"https://github.com/replit/lol-coffee",examples:{editor:"/langs/lolcode/examples-editor.html",console:"/langs/lolcode/examples-console.html"},header:"LOLCODE v1.2 (lol-coffee)\nCopyright (c) 2011 Max Shawabkeh"},Brainfuck:{name:"Brainfuck",tagline:"A pure Turing machine controller.",shortcut:"f",about_link:"http://en.wikipedia.org/wiki/Brainfuck",engine_link:"https://github.com/replit/bfjs",examples:{editor:"/langs/brainfuck/examples-editor.html",console:"/langs/brainfuck/examples-console.html"},header:"Brainfuck, bfjs\nCopyright (c) 2011 Amjad Masad"},Emoticon:{name:"Emoticon",tagline:"Programming with an extra dose of smile.",shortcut:"E",about_link:"http://www.teuton.org/~stranger/code/emoticon/manual.php",engine_link:"https://github.com/replit/emoticoffee",examples:{editor:"/langs/emoticon/examples-editor.html",console:"/langs/emoticon/examples-console.html"},header:"Emoticon v1.5 (emoticoffee)\nCopyright (c) 2011 Amjad Masad"},Bloop:{name:"Bloop",tagline:"Nothing but bounded loops.",shortcut:"B",about_link:"http://en.wikipedia.org/wiki/BlooP_and_FlooP",engine_link:"https://github.com/replit/jsrepl/blob/master/extern/bloop/bloop.js",examples:{editor:"/langs/bloop/examples-editor.html",console:"/langs/bloop/examples-console.html"},header:"BlooPjs\nCopyright (c) 2005 Tim Cameron Ryan\nBased on Perl code by John Cowan, 1994"},Unlambda:{name:"Unlambda",tagline:"Functional purity given form.",shortcut:"U",about_link:"http://en.wikipedia.org/wiki/Unlambda",engine_link:"https://github.com/replit/unlambda-coffee",examples:{editor:"/langs/unlambda/examples-editor.html",console:"/langs/unlambda/examples-console.html"},header:"Unlambda v2.0 (unlambda-coffee)\nCopyright (c) 2011 Max Shawabkeh"},JavaScript:{name:"JavaScript",tagline:"The de facto language of the Web",shortcut:"J",about_link:"http://en.wikipedia.org/wiki/Javascript",engine_link:"http://en.wikipedia.org/wiki/JavaScript_engine#JavaScript_engines",examples:{editor:"/langs/javascript/examples-editor.html",console:"/langs/javascript/examples-console.html"},ace_mode:{script:"/lib/ace/mode-javascript.js",module:"ace/mode/javascript"},header:"JavaScript"},Traceur:{name:"Javascript.next",tagline:"The JavaScript of tomorrow.",shortcut:"n",about_link:"http://wiki.ecmascript.org/doku.php?id=harmony:harmony",engine_link:"http://code.google.com/p/traceur-compiler/",examples:{editor:"/langs/traceur/examples-editor.html",console:"/langs/traceur/examples-console.html"},header:"Traceur Compiler v0.10\nCopyright (c) 2011 Google Inc."},CoffeeScript:{name:"CoffeeScript",tagline:"Unfancy JavaScript.",shortcut:"C",about_link:"http://jashkenas.github.com/coffee-script/",engine_link:"https://github.com/jashkenas/coffee-script/",examples:{editor:"/langs/coffee-script/examples-editor.html",console:"/langs/coffee-script/examples-console.html"},ace_mode:{script:"/lib/ace/mode-coffee.js",module:"ace/mode/coffee"},header:"CoffeeScript v1.0.1\nCopyright (c) 2011, Jeremy Ashkenas"},Kaffeine:{name:"Kaffeine",tagline:"Extended JavaScript for pros.",shortcut:"K",about_link:"http://weepy.github.com/kaffeine/",engine_link:"https://github.com/weepy/kaffeine",examples:{editor:"/langs/kaffeine/examples-editor.html",console:"/langs/kaffeine/examples-console.html"},header:"| |/ /__ _ / _|/ _|___(_)_ _  ___\n| ' </ _` |  _|  _/ -_) | ' \\/ -_)\n|_|\\_\\__,_|_| |_| \\___|_|_||_\\___|\nVersion 0.0.4, Copyright (c) 2010 Jonah Fox"},Move:{name:"Move",tagline:"The easy way to program the web.",shortcut:"M",about_link:"http://movelang.org/",engine_link:"https://github.com/rsms/move",examples:{editor:"/langs/move/examples-editor.html",console:"/langs/move/examples-console.html"},header:"Move v0.4.3\nCopyright (c) 2011 Rasmus Andersson"},Scheme:{name:"Scheme",tagline:"An elegant dynamic dialect of Lisp.",shortcut:"S",about_link:"http://en.wikipedia.org/wiki/Scheme_(programming_language)",engine_link:"https://github.com/yhara/biwascheme",examples:{editor:"/langs/scheme/examples-editor.html",console:"/langs/scheme/examples-console.html"},ace_mode:{script:"/lib/ace/mode-scheme.js",module:"ace/mode/scheme"},header:"BiwaScheme Interpreter version 0.5.7\nCopyright (C) 2007-2010 Yutaka HARA and the BiwaScheme team"},Lua:{name:"Lua",tagline:"A lightweight multi-paradigm scripting language.",shortcut:"L",about_link:"http://en.wikipedia.org/wiki/Lua_(programming_language)",engine_link:"https://github.com/replit/jsrepl/tree/master/extern/lua",examples:{editor:"/langs/lua/examples-editor.html",console:"/langs/lua/examples-console.html"},ace_mode:{script:"/lib/ace/mode-lua.js",module:"ace/mode/lua"},header:"Lua 5.1  Copyright (C) 1994-2006 Lua.org, PUC-Rio\n[GCC 4.2.1 (LLVM, Emscripten 1.5)] on linux2"},Python:{name:"Python",tagline:"A dynamic language emphasizing readability",shortcut:"P",about_link:"http://en.wikipedia.org/wiki/Python_(programming_language)",engine_link:"https://github.com/replit/empythoned",examples:{editor:"/langs/python/examples-editor.html",console:"/langs/python/examples-console.html"},ace_mode:{script:"/lib/ace/mode-python.js",module:"ace/mode/python"},header:"Python version 2.7.2"},Ruby:{name:"Ruby",tagline:"A natural dynamic object-oriented language",shortcut:"R",about_link:"http://en.wikipedia.org/wiki/Ruby_(programming_language)",engine_link:"https://github.com/replit/emscripted-ruby",examples:{editor:"/langs/ruby/examples-editor.html",console:"/langs/ruby/examples-console.html"},ace_mode:{script:"/lib/ace/mode-ruby.js",module:"ace/mode/ruby"},header:"Ruby version 1.8.7"},Roy:{name:"Roy",tagline:"Small functional language that compiles to JavaScript.",shortcut:"y",about_link:"http://roy.brianmckenna.org/",engine_link:"https://github.com/pufuwozu/roy",examples:{editor:"/langs/roy/examples-editor.html",console:"/langs/roy/examples-console.html"},header:"Roy 0.1.3\nCopyright (C) 2011 Brian McKenna"}}}.call(this),function(){var e;e=jQuery,e.extend(REPLIT,{language_start_time:null,InitAnalytics:function(){var e,t;return window._gaq.push(["_setAccount","UA-25136408-2"]),window._gaq.push(["_setDomainName","none"]),window._gaq.push(["_setAllowLinker",!0]),window._gaq.push(["_trackPageview"]),t=document.createElement("script"),t.type="text/javascript",t.async=!0,t.src="http://www.google-analytics.com/ga.js",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)}}),e(function(){return window._gaq=window._gaq||[],e(window).load(REPLIT.InitAnalytics),REPLIT.$this.bind("language_loading",function(e,t){return REPLIT.language_start_time=Date.now(),window._gaq.push(["_trackEvent","language","loading",t])}),REPLIT.$this.bind("language_loaded",function(e,t){var n,r;if(REPLIT.language_start_time!=null)return r=Date.now()-REPLIT.language_start_time,n=REPLIT.loading_saved_lang?"reloaded":"loaded",REPLIT.loading_saved_lang=!1,window._gaq.push(["_trackEvent","language",n,t,r])}),e("#button-examples").click(function(){return window._gaq.push(["_trackEvent","button","examples"])}),e("#button-save").click(function(){return window._gaq.push(["_trackEvent","button","save"])}),e("#button-share").click(function(){return window._gaq.push(["_trackEvent","button","share"])}),e("#button-help").click(function(){return window._gaq.push(["_trackEvent","button","help"])}),e("#languages_link").click(function(){return window._gaq.push(["_trackevent","link","languages"])}),e("#courses_link").click(function(){return window._gaq.push(["_trackevent","link","languages"])}),e("#create_account_link").click(function(){return window._gaq.push(["_trackEvent","link","create account"])})})}.call(this);